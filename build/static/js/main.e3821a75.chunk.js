(this["webpackJsonpdownload-calculator"]=this["webpackJsonpdownload-calculator"]||[]).push([[0],{136:function(e,t,n){e.exports=n(248)},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),i=n.n(c),l=(n(141),n(15)),o=n(70),d=n(134),u=n(40),m=n(6),s=n(249),p=(n(142),n(143),n(59)),f=n(251),v=p.a.Option,b=function(e){var t=e.value,n=e.onChange,r=/^([\d.]*)(\w*)$/.exec(t),c=Object(o.a)(r,3),i=(c[0],c[1]),l=c[2],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return n("".concat(e).concat(t))};return a.createElement("div",{className:"byte-input"},a.createElement(f.a,{value:i,className:"byte-number-input",onChange:function(e){return d(parseFloat(e)||i)}}),a.createElement(p.a,{value:l,className:"byte-unit-input",onChange:function(e){return d(void 0,e)}},["KB","MB","GB","Kb","Mb"].map((function(e){return a.createElement(v,{key:e,value:e},e)}))))},x=n(250),h=function(e){return a.createElement(x.a,Object.assign({},e,{onChange:function(t){e.onChange&&e.onChange(t.target.value)}}))},E=n(18),g=n.n(E);function y(e){var t=e.size,n=e.download,a=e.speed;return(g.a.parse(t)-g.a.parse(n))/g.a.parse(a)}var w=n(68),O=n(53),j=function(e,t){switch(t.type){case"new":return[function(){var e={id:"".concat(Math.random()),name:"",size:"100MB",download:"0MB",speed:"128KB",edit:null};return e.edit=e,e}()].concat(Object(l.a)(e));case"remove":return[].concat(Object(l.a)(e.slice(0,t.idx)),Object(l.a)(e.slice(t.idx+1)));case"edit":var n=Object(O.a)({},e[t.idx],{edit:null});return[].concat(Object(l.a)(e.slice(0,t.idx)),[Object(O.a)({},e[t.idx],{edit:t.edit?n:null})],Object(l.a)(e.slice(t.idx+1)));case"update-edit":var a=Object(O.a)({},e[t.idx],{edit:Object(O.a)({},e[t.idx].edit,Object(w.a)({},t.key,t.value))});return[].concat(Object(l.a)(e.slice(0,t.idx)),[a],Object(l.a)(e.slice(t.idx+1)));case"update":var r=Object(O.a)({},e[t.idx].edit,{edit:null});return[].concat(Object(l.a)(e.slice(0,t.idx)),[r],Object(l.a)(e.slice(t.idx+1)));case"clear":return[]}},k=n(90),C=n.n(k),z=function(){var e=Object(a.useReducer)(j,[]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=[].concat(Object(l.a)([{title:"\u540d\u79f0",dataIndex:"name",component:h},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size",component:b},{title:"\u5df2\u4e0b\u8f7d",dataIndex:"download",component:b},{title:"\u4e0b\u8f7d\u901f\u5ea6",dataIndex:"speed",component:b}].map((function(e){return t=e.title,n=e.dataIndex,a=e.component,{title:t,dataIndex:n,render:function(e,t,i){return t.edit?r.a.createElement(a,{value:t.edit[n],onChange:function(e){return c({type:"update-edit",idx:i,key:n,value:e})}}):e}};var t,n,a}))),[{title:"\u8fdb\u5ea6",dataIndex:"progress",width:90,render:function(e,t){return function(e){var t=e.size,n=e.download;return g.a.parse(n)/g.a.parse(t)*100}(t.edit||t).toFixed(2)+"%"}},{title:"\u5269\u4f59\u65f6\u95f4",dataIndex:"remainTime",width:120,render:function(e,t){var n=y(t.edit||t);return r.a.createElement(r.a.Fragment,null,C()(1e3*n))}},{title:"\u64cd\u4f5c",dataIndex:"action",width:150,render:function(e,t,n){return t.edit?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{size:"small",type:"primary",style:{marginRight:15},onClick:function(){return c({type:"update",idx:n})}},"\u4fdd\u5b58"),r.a.createElement(u.a,{size:"small",onClick:function(){return c({type:"edit",idx:n,edit:!1})}},"\u53d6\u6d88")):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{size:"small",type:"default",style:{marginRight:15},onClick:function(){return c({type:"edit",idx:n,edit:!0})}},"\u7f16\u8f91"),r.a.createElement(u.a,{size:"small",type:"danger",onClick:function(){return c({type:"remove",idx:n})}},"\u5220\u9664"))}}]);return r.a.createElement(m.a,{locale:d.a},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("div",{className:"table-header"},r.a.createElement(u.a,{type:"primary",onClick:function(){return c({type:"new"})}},"\u6dfb\u52a0")),r.a.createElement(s.a,{columns:i,dataSource:n,rowKey:"name",bordered:!0,pagination:!1,summary:function(e){if(0===e.length)return null;var t=function(t){return e.map((function(e){return e.edit||e})).reduce((function(e,n){return e+g.a.parse(n[t])}),0)},n=t("size"),a=t("download"),i=t("speed"),o=a/n*100,d=Math.max.apply(Math,Object(l.a)(e.map((function(e){return e.edit||e})).map((function(e){return y(e)}))));return r.a.createElement("tr",null,r.a.createElement("td",null,"\u603b\u8ba1"),r.a.createElement("td",null,g.a.format(n)),r.a.createElement("td",null,g.a.format(a)),r.a.createElement("td",null,g.a.format(i)),r.a.createElement("td",null,"".concat(o.toFixed(2),"%")),r.a.createElement("td",null,C()(1e3*d)),r.a.createElement("td",null,r.a.createElement(u.a,{size:"small",onClick:function(){c({type:"clear"})}},"\u6e05\u7a7a")))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[136,1,2]]]);
//# sourceMappingURL=main.e3821a75.chunk.js.map